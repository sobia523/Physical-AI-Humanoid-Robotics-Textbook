# Data Model: Digital Twin Module

**Branch**: `002-digital-twin-module` | **Date**: 2025-12-12 | **Spec**: specs/002-digital-twin-module/spec.md
**Input**: Feature specification from `specs/002-digital-twin-module/spec.md`

## Key Entities and Their Attributes

This module focuses on teaching and simulation, so the "data model" primarily describes the conceptual entities that students will interact with and understand, rather than persistent data structures for an application.

### Entity: Student

*   **Description**: The primary learner engaging with the module content and labs.
*   **Attributes**:
    *   `foundational_ros2_knowledge`: Boolean (Implicitly assumed as a prerequisite for the target audience).
    *   `humanoid_robot_middleware_knowledge`: Boolean (Implicitly assumed as a prerequisite).
    *   `engagement_status`: Enum (e.g., 'reading_chapter', 'working_on_lab', 'completing_micro_project').
    *   `progress_in_module`: Percentage or Chapter/Lab ID.

### Entity: Humanoid Robot

*   **Description**: The central subject of simulation, control, and interaction within the digital twin environment.
*   **Attributes**:
    *   `urdf_model_path`: String (Path to the Unified Robot Description Format file).
    *   `joint_configurations`: List of (joint_name, joint_value) pairs.
    *   `sensor_suite`: List of (sensor_type, sensor_parameters) (e.g., LiDAR, IMU, Depth Camera).
    *   `physical_properties`: Dict (e.g., mass, inertia, friction).
    *   `current_pose`: (x, y, z, roll, pitch, yaw).
    *   `status`: Enum (e.g., 'idle', 'moving', 'interacting', 'error').

### Entity: Digital Twin

*   **Description**: A virtual representation of a physical humanoid robot and its environment, encompassing both Gazebo and Unity components.
*   **Attributes**:
    *   `gazebo_world_file`: String (Path to the Gazebo .world file).
    *   `unity_scene_file`: String (Path to the Unity .unity scene file).
    *   `synchronization_status`: Boolean (Indicates if Gazebo and Unity simulations are synchronized).
    *   `fidelity_level`: Enum (e.g., 'physics_realistic', 'visual_realistic').

### Entity: Gazebo World

*   **Description**: The simulated environment within Gazebo where physics, sensor data, and basic robot dynamics are handled.
*   **Attributes**:
    *   `environment_assets`: List of (model_name, model_path) (e.g., walls, furniture).
    *   `physics_parameters`: Dict (e.g., gravity, friction coefficients).
    *   `sensor_configurations`: List of (sensor_ID, parameters) (e.g., LiDAR range, camera FOV).
    *   `robot_instances`: List of (Humanoid Robot).

### Entity: Unity Scene

*   **Description**: The high-fidelity rendering environment in Unity for visualization, advanced graphics, and human-robot interaction scenarios.
*   **Attributes**:
    *   `imported_robot_models`: List of (model_ID, model_path).
    *   `lighting_settings`: Dict (e.g., ambient light, directional lights).
    *   `texture_assets`: List of (texture_ID, texture_path).
    *   `interaction_elements`: List of (element_type, properties) (e.g., buttons, manipulable objects).
    *   `visualized_sensor_data`: List of (sensor_ID, visualization_type).
    *   `camera_settings`: Dict (e.g., field of view, render distance).

### Entity: URDF Model

*   **Description**: Unified Robot Description Format file, defining the kinematic and dynamic properties of the humanoid robot.
*   **Attributes**:
    *   `file_path`: String (Location of the URDF file).
    *   `joints`: List of (joint_name, joint_type, limits).
    *   `links`: List of (link_name, mass, inertia, visual_geometry, collision_geometry).
    *   `sensors_defined`: List of (sensor_type, attached_link).

### Entity: Sensor Data

*   **Description**: Output from simulated sensors (LiDAR, IMU, Depth Camera) in Gazebo, which can be processed by ROS 2 nodes and visualized in Unity.
*   **Attributes**:
    *   `sensor_type`: Enum (e.g., 'LiDAR', 'IMU', 'DepthCamera').
    *   `timestamp`: Datetime.
    *   `raw_data`: Varies by sensor (e.g., point cloud for LiDAR, quaternion for IMU).
    *   `processed_data`: Varies by sensor (e.g., obstacle list, orientation, depth map).

### Entity: ROS 2 Topics

*   **Description**: Communication channels used for publishing and subscribing to data (e.g., sensor readings, joint commands) within the ROS 2 ecosystem.
*   **Attributes**:
    *   `topic_name`: String.
    *   `message_type`: String (e.g., `sensor_msgs/msg/PointCloud2`).
    *   `publisher_nodes`: List of (node_ID).
    *   `subscriber_nodes`: List of (node_ID).
    *   `frequency`: Float (Hz).

### Entity: Lab Report

*   **Description**: A document generated by students for the micro-project, detailing their implementation, observations, and results.
*   **Attributes**:
    *   `report_id`: String.
    *   `student_id`: String.
    *   `module_id`: String ('module2-digital-twin').
    *   `screenshots`: List of (image_path).
    *   `sensor_plots`: List of (plot_image_path).
    *   `observations`: String (Free-form text).
    *   `code_references`: List of (file_path).
    *   `conclusion`: String.
